/*****************************************************************************
|*			
|*  Copyright		:	(c) 2010 CAS
|*  Filename		:	initial_gsmart_plu.h
|*  Version			:	1.7 (FLASH_STRUCT_VERSION)
|*  Programmer(s)	:	Chung Jongkwon (CJK)
|*  Created			:	2010/11/24
|*  Description		:	CL5000 Memory Definition(GSMart PLU Structure Version)
|*				
/****************************************************************************/
#ifdef USE_GSMART_PLU

#ifndef FLASH_STRUCT_VERSION_DEF
#define FLASH_STRUCT_VERSION_DEF
#define FLASH_STRUCT_VERSION "17"	//20080828 direct ingredient 추가
#ifdef USE_TRACE_STANDALONE
 #define NVRAM_STRUCT_VERSION "203"
#else
 #define NVRAM_STRUCT_VERSION "103"
#endif
#endif

#ifndef	_MEMORY_MAP_DEFINE
#define	_MEMORY_MAP_DEFINE
#define FLASH_STR_VERSION	0
#define FLASH_CREATE_DATE	2
#define FLASH_ROM_STATUS	8
#define FLASH_MEMORY_ADDRESS	16
////////////////////////////////////////////
// 중요 : 위치변경불가
//  CTS Structure (Enable, Period, Serial No)
#define FLASH_CTS_STRUCT	48
// 중요 : FW UPDATE MODE 저장위치는 BOOT에서 사용하므로 변경되면 안됨
// 80 = FLASH_FWMODE_SET
#define FLASH_FWMODE_SET	80
////////////////////////////////////////////
#define FLASH_FW_UPDATE_VER	81
#define FLASH_START_PASSWORD	82
#define FLASH_START_COUNT_HIGH	90
#define FLASH_START_COUNT	92
#define FLASH_START_LOG	94
////////////////////////////////////////////
// 중요 : 위치변경불가
#define FLASH_CALLOG_COUNT	124
#define FLASH_CALLOG_DATA	126
// 중요 : 위치변경불가
//  CTS Structure2 (Product No)
#define FLASH_CTS_STRUCT2	246
////////////////////////////////////////////
#define FLASH_ADC_AREA	276
#define FLASH_ADC_WUNIT	404
#define FLASH_ADC_FILTER_LEVEL	405
#define FLASH_ADC_USE_FULLTARE	406
#define FLASH_ADC_TARE_CONFIG	407
#ifdef USE_ADM_AUTO_RESTORE
#define FLASH_ADM_INIT_ERROR_COUNT	408
#define FLASH_ADM_EEP_ERROR_COUNT	409
#define FLASH_ADM_INIT_COMPLETE     410
#define FLASH_ADC_RESERVED2	411
#else
#define FLASH_ADC_RESERVED2	408
#endif
#define FLASH_ETHERNET_MAC	412
////////////////////////////////////////////
// 중요 : 위치변경불가
//  BOOT에서 사용할 MAC, IP, Version 정보가 Printer 영역의 뒤쪽 48byte에 존재함
#define FLASH_PRINTER_AREA	418
///////////////////////////////////////////
#define FLASH_GLOBAL_AREA	674
#define FLASH_BASIC_SYMBOL_AREA	806
#define FLASH_DEALER_AREA	1016
#define FLASH_BASIC_SYMBOL_AREA_END	1074
#define FLASH_BASIC_PARAMETER	1086
#define FLASH_NET_AREA	1416
#define FLASH_FONT_AREA	1598
#define FLASH_CAPTION_AREA	263796
#define FLASH_LABEL_CAPTION_AREA	335800
#define FLASH_PCS_UNIT_AREA	342200
#define FLASH_PLU_STRUCT_CAPTION_AREA	342344
#define FLASH_ORIGIN_AREA	346440
#define FLASH_PLU_STRUCT_AREA	363440
#define FLASH_KEY_AREA	365518
#define FLASH_KEY_SHIFT_AREA	365774
#define FLASH_KEY_PGM_AREA	366030
#define FLASH_KEY_PGM_SHIFT_AREA	366286
#define FLASH_KEY_PGM2_AREA	366542
#define FLASH_KEY_PGM2_SHIFT_AREA	366798
#define FLASH_PSKEY_AREA	367054
#define FLASH_PSKEY_SHIFT_AREA	367374
#define FLASH_PSKEY_PGM_AREA	367694
#define FLASH_PSKEY_PGM_SHIFT_AREA	368014
#define FLASH_PSKEY_PGM2_AREA	368334
#define FLASH_PSKEY_PGM2_SHIFT_AREA	368654
#define FLASH_KEY_CDTC_AREA	368974
#define FLASH_KEY_CUSTOMER_AREA	369230
#define FLASH_KEY_SPEED_AREA	369486
#define FLASH_LABEL_AREA	372686
#define FLASH_LABEL_IMAGE_AREA_ADDR		(FLASH_LABEL_AREA + LABEL_CUSTOM_2MB_NUM * LABEL_HEADER_SIZE) // 라벨 이미지 주소 : 373166
#define FLASH_BITMAP_AREA	455086
#define FLASH_CURRENCY_AREA	569858
#define FLASH_SCROLL_AREA	569918
#define FLASH_PRT_ADVE_AREA	570928
#define FLASH_NUMBER_PLU	574128
#define FLASH_NUMBER_BARCODE	574132
#define FLASH_NUMBER_ORIGIN	574134
#define FLASH_NUMBER_TARE	574136
#define FLASH_NUMBER_NUTRIFACT	574138
#define FLASH_NUMBER_INGRIDIENT_SIZE	574140
#define FLASH_NUMBER_INGRIDIENT	574142
#define FLASH_NUMBER_SHOP	574144
#define FLASH_NUMBER_LABELADVERTISE	574146
#define FLASH_NUMBER_DEPARTMENT	574148
#define FLASH_NUMBER_GROUP	574150
#define FLASH_NUMBER_COUNTRY	574152
#define FLASH_NUMBER_SLAUGHTER	574154
#define FLASH_NUMBER_CUTTINGHALL	574156
#define FLASH_NUMBER_TRACEBILITY	574158
#define FLASH_NUMBER_CLERK	574160
#define FLASH_NUMBER_CUSTOMER	574162
#define FLASH_NUMBER_DISCOUNT	574164
#define FLASH_NUMBER_BONUS	574166
#define FLASH_NUMBER_TAX	574168
#define FLASH_NUMBER_SCALE	574170
#define FLASH_NUMBER_PAID	574172
#define FLASH_NUMBER_REPORT_PERIOD	574173
#define FLASH_NUMBER_TRANSACTION	574174
#define FLASH_NUMBER_RESERVED1	574176
#define FLASH_VERIFY_DATE	574180	// Reserved for Korea Function(Check Verification Timer)	// CJK080219
#define FLASH_TAX_AREA	574184
#define FLASH_BARCODE_FORMAT_AREA	574264
#define FLASH_SHOPNAME_AREA	579664
#define FLASH_DEPARTMENT_AREA	580944
#define FLASH_SUB_DEPARTMENT_AREA	584144
#define FLASH_TARE_AREA	587344
#define FLASH_CLERK_AREA	589744
#define FLASH_CLERK_PERMISSION	594544
#define FLASH_CUSTOMER_AREA	594624	//594604
#define FLASH_CUSTOMER_RESERVED_AREA	614424	// Added by CJK 20060608
#define FLASH_LICENSE		614796
#define FLASH_REMOTE_IP2	614876
#define FLASH_SCANNER_FORMAT	614882
#define FLASH_PLU_FONT_SIZE	615282
#define FLASH_PACKED_DATE_FLAG	615290
#define FLASH_PACKED_DATE	615291
#define FLASH_PACKED_TIME_FLAG	615293
#define FLASH_PACKED_TIME	615294
#define FLASH_SELL_BY_DATE_FLAG	615296
#define FLASH_SELL_BY_DATE	615297
#define FLASH_SELL_BY_TIME_FLAG	615301
#define FLASH_SELL_BY_TIME	615302
#define FLASH_SLAVE_INFO	615304	// CJK080517
#define FLASH_EXT_PRT_LABEL_NAME	615464
#define FLASH_DISCOUNT_GLOBAL_WEIGHT	615604
#define FLASH_DISCOUNT_GLOBAL_COUNT	615652
#define FLASH_DISCOUNT_GLOBAL_NONFOOD	615700
#define FLASH_DISCOUNT_AREA	615748
#define FLASH_INGREDIENT_AREA	620548
//#define FLASH_INGREDIENT_TEXT_AREA	671748
#define FLASH_INGREDIENT_RESERVED_AREA	671748
#define FLASH_PLU_AREA	687548
#define FLASH_NUTRIFACT_AREA	1902548

#ifdef USE_TRACE_STANDALONE 
  #ifdef USE_TOPMART_STRUCTURE //sewon 161130
	#define FLASH_TRACE_STANDALONE_AREA		1536200
  #else
	#define FLASH_TRACE_STANDALONE_AREA 	1949548
  #endif
	#define FLASH_TRACE_SPECIALUSE_AREA		1969548
	#define FLASH_TRACE_SLAUGHTERHOUSE_AREA	1974748
	#define FLASH_TRACE_MEATPART_AREA	1985148
#endif

#ifdef USE_TRACEABILITY
	#define FLASH_COUNTRY_AREA	1949548
	#define FLASH_SLAUGHTERHOUSE_AREA	1969548
	#define FLASH_CUTTINGHALL_AREA	1991548
	#define FLASH_TRACEABILITY_AREA	2013548
#endif

#define FLASH_JOBBATCH_AREA 		2041548	 //SG061220:ADD
#define FLASH_SCANNER_TABLE_AREA 	2041708	 //SG070124:ADD

#ifdef USE_TRACE_STANDALONE
	#define FLASH_TRACE_STANDALONE_KEY_AREA  2085724
#endif

#define FLASH_LABEL_KEY_TABLE_AREA	2085740
#define FLASH_TICKET_HEAD_MESSAGE_AREA	2085788
#define FLASH_TICKET_TAIL_MESSAGE_AREA	2086108
#define FLASH_BACK_LABEL_VALID_DATE		2086428
#ifdef USE_DNS_RESOLVER
#define FLASH_DNS_AREA      2087069
// Menu 1891 메뉴 설정 플래시 주소 (2 byte)
  #ifdef USE_INIT_MASK
#define FLASH_KEEP_INIT_SETTINGS 2086448	
  #endif
#define FLASH_END_POINT 	2092780
#else  
  // Menu 1891 메뉴 설정 플래시 주소 (2 byte)
  #ifdef USE_INIT_MASK
#define FLASH_KEEP_INIT_SETTINGS 2086448	
  #endif
  #ifdef USE_HYUNDAI_SET_FUNCTION
#define FLASH_SETPRODUCT_SETNO 2087709
  #endif
#define FLASH_END_POINT 	2092140
#endif //USE_DNS_RESOLVER
#endif	// of #ifndef _MEMORY_MAP_DEFINE
/********************************** ~2M End **********************************/


/********************************** 2M ~ 8M **********************************/
#if (PLU_COMMODITY_LINE_NO == 8)
	#define MAX_PLU_RECORDSIZE_DEFAULT	540
	#define PLU_BASIC_AREA_QTY	2250L
#ifdef USE_TOPMART_STRUCTURE //sewon 161220
	#define PLU_EXTER_AREA_QTY	2750L
#else
	#define PLU_EXTER_AREA_QTY	3750L
#endif
#ifdef USE_EXTEND_8M_DFLASH
   #ifdef USE_EXTEND_NUMBER_OF_PLU_FOR_8M_DFLASH
	   #define PLU_EXTER2_AREA_QTY 2000l   // Serial Flash 8MB 확장 테스트를 위해서 최대 PLU 개수 12,000개로 확장
   #else
	   #define PLU_EXTER2_AREA_QTY 0
   #endif
#endif

	#define DEFAULT_INGREDIENT_SIZE 		512
	#define DEFAULT_INGREDIENT_TEXT_SIZE	304

	#define INGREDIENT_BASIC_AREA_QTY	100L
	#define INGREDIENT_EXTER_AREA_QTY	100L  

	#define MAX_PLU_ADDRESS 6000

	#define PLU_REPORT_QTY_1	6000	//para 625 : 0, PLU 수량(2250+3750)과 PLU report 수량(3000+6000) 중 작은 값
	#define PLU_REPORT_QTY_2	6000    //para 625 : 1, PLU 수량(2250+3750)과 PLU report 수량(3000+4500) 중 작은 값
#else	// of #if (PLU_COMMODITY_LINE_NO == 8)
	#define MAX_PLU_RECORDSIZE_DEFAULT	372//340
	#define PLU_BASIC_AREA_QTY	3000L
	#define PLU_EXTER_AREA_QTY	5000L
  #ifdef USE_EXTEND_8M_DFLASH
    #ifdef USE_EXTEND_NUMBER_OF_PLU_FOR_8M_DFLASH
	   #define PLU_EXTER2_AREA_QTY 2000l   // Serial Flash 8MB 확장 테스트를 위해서 최대 PLU 개수 12,000개로 확장
    #else
	   #define PLU_EXTER2_AREA_QTY 0
    #endif
  #endif

  #ifdef USE_VNM_LOTTEMART_INGREDIENT
	#define DEFAULT_INGREDIENT_SIZE 		1022
  #else
	#define DEFAULT_INGREDIENT_SIZE 		512
  #endif

  #ifdef USE_VNM_LOTTEMART_INGREDIENT
	#define DEFAULT_INGREDIENT_TEXT_SIZE	152
  #else
	#define DEFAULT_INGREDIENT_TEXT_SIZE	304
  #endif

	#define INGREDIENT_BASIC_AREA_QTY	100l
  #ifdef USE_KOR_INGREDIENT_EXPAND							// 국내 내수형 펌웨어 PLU 구조(상품명5단) 기준 성분 1,600개 확장 (기존: 200개(100+100)), PLU 개수 8,000개 유지
  	#define INGREDIENT_PREV_EXPAND_EXTER_AREA_QTY	100l	// 확장한 부분이 시작하는 주소 값을 계산하기 위한 상수 정의
	#ifdef USE_VNM_LOTTEMART_INGREDIENT						// 베트남 롯데마트 펌웨어 PLU 구조(상품명5단) 기준 성분 800개 (기존: 200개(100+100)), PLU 개수 8,000개 유지
		#define INGREDIENT_EXTER_AREA_QTY	700l
	#else
		#define INGREDIENT_EXTER_AREA_QTY	1500l
	#endif
  #else
	#define INGREDIENT_EXTER_AREA_QTY	100l
  #endif
	#define MAX_PLU_ADDRESS 8000
	#define PLU_REPORT_QTY_1	8000	//para 625 : 0, PLU 수량(3000+5000)과 PLU report 수량(3000+6000) 중 작은 값
	#define PLU_REPORT_QTY_2	7500    //para 625 : 1, PLU 수량(3000+5000)과 PLU report 수량(3000+4500) 중 작은 값
#endif	// of #if (PLU_COMMODITY_LINE_NO == 8)

//----------   원격기능            ----------//
//0x200000(2M Byte)
#define FLASH_FIRMWARE_SIZE 0x200000
#ifdef USE_EXTEND_FLASH
#define FLASH_FIRMWARE_CS1_AREA (DFLASH_LOGICAL_FLASH2_BASE + 0x200000) //32 MByte + 2 MByte(Reserved)
#define FLASH_FIRMWARE_CHKSUM_CS1_AREA (FLASH_FIRMWARE_CS1_AREA + FLASH_FIRMWARE_SIZE - 0x08) //4byte
#define FLASH_FIRMWARE_FLAG_CS1_AREA (FLASH_FIRMWARE_CS1_AREA + FLASH_FIRMWARE_SIZE - 0x04) //4byte
#endif
//0x200000(2M Byte)

#ifdef USE_EXTEND_CAPNTION_AREA
#define FLASH_CAPTION_EXT_AREA      EXT_MEMCARD2_ADDR_X + 4182205
#endif

/********************************** ~8M 공통 **********************************/
//#include "initial_8m_common.h"
// 확장메모리 영역
#ifdef USE_EXTEND_8M_DFLASH
#define FLASH_PLU_EXT2_AREA	3670205
#endif

#ifdef USE_EXTEND_8M_DFLASH
// 확장메모리 영역
// base : EXT_MEMCARD2_ADDR_X(0x400000)
// 사용하는 부분에서 "EXT_MEMCARD_ADDR_X + FLASH_USB_DATA_ROM_UPDATE" 와 같이 사용하여 기존 소스를
// 유지하기 위해 Define은 메모리 주소를 "2MB + 2MB + 주소" 로 설정 하였음.
#define FLASH_USB_DATA_ROM_UPDATE       EXT_MEMCARD_ADDR_X + 4194255
#define FLASH_REMOTE_DATA_ROM_UPDATE_FLAG     EXT_MEMCARD_ADDR_X + 4194254
#define FLASH_FTL_ERR_MANAGEMENT_AREA	EXT_MEMCARD_ADDR_X + 4194256

#else
// 확장메모리 영역
// base : EXT_MEMCARD_ADDR_X(0x200000)
#define FLASH_USB_DATA_ROM_UPDATE	2097103	 // CL5200J
#define FLASH_FTL_ERR_MANAGEMENT_AREA	2097104	 // CL5200J
#endif

#endif	// of #ifdef USE_GSMART_PLU
